# table for the recommend strategy name and abbr.

k_recommend_strategy_full_to_code = {
    'sns_tag' : 's',
    'topic' : 't',
    'keyword' : 'k',
    'friend_feed' : 'f',
    'similar_user' : 'u',
    'hot' : 'h',
    'city' : 'c',
    'lt_keyword' : 'l',
    'association_rule' : 'r',
    'similar_item' : 'i',
    'ip':'p',
    'app': 'a',
    'ihot': 'o',
    'lr': 'g',
    'random': 'n',
    'user_meta': 'm',
    'pgc': 'e',
    'ads': 'd',
    'short_term': 'b',
    'longterm': 'w',
    'category': 'C',
    'topic2': 'T',
    'source': 'S',
    'keyword2': 'K',
}

def get_recommend_strategy_code(strategy):
    if len(strategy) == 1:
        return strategy
    if strategy in k_recommend_strategy_full_to_code:
        return k_recommend_strategy_full_to_code[strategy]
    return ''

k_recommend_strategy_code_to_full = {
    's' : 'sns_tag',
    't' : 'topic',
    'k' : 'keyword',
    'f' : 'friend_feed',
    'u' : 'similar_user',
    'h' : 'hot',
    'c' : 'city',
    'l' : 'lt_keyword',
    'r' : 'association_rule',
    'i' : 'similar_item',
    'p' : 'ip',
    'a' : 'app',
    'o' : 'ihot',
    'g' : 'lr',
    'n' : 'random',
    'm' : 'user_meta',
    'e' : 'pgc',
    'd' : 'ads',
    'b' : 'short_term',
    'w' : 'longterm',
    'C' : 'category',
    'T' : 'topic2',
    'S' : 'source',
    'K' : 'keyword2',
}

def get_recommend_strategy_full_name(code):
    if code in k_recommend_strategy_code_to_full:
        return k_recommend_strategy_code_to_full[code]
    return ''

k_recommend_strategy_code_to_digit = {
    's' : 1,
    'h' : 2,
    'k' : 3,
    'c' : 4,
    't' : 5,
    'f' : 6,
    'r' : 7,
    'u' : 8,
    'l' : 9,
    'i' : 10,
    'p' : 11,
    'a' : 12,
    'o' : 13,
    'g' : 14,
    'n' : 15,
    'm' : 16,
    'e' : 17,
    'd' : 18,
    'b' : 19,
    'w' : 20,
    'C' : 24,
    'T' : 25,
    'S' : 26,
    'K' : 27,
}

def get_recommend_strategy_digit(code):
    if code in k_recommend_strategy_code_to_digit:
        return k_recommend_strategy_code_to_digit[code]
    return 0

REASON_MAP = k_recommend_strategy_code_to_digit
REASON_MAP_REVERTED = dict((v, k) for k, v in REASON_MAP.items())

package pb_streaming;

message ShortTermProfile {
  message Group{
    enum DISLIKE_TYPE {
      DL = 0;
      EDL = 1;
    }
 
    required uint64 gid = 1;
    optional bool click = 2;
    optional DISLIKE_TYPE dislike = 3;
    optional uint32 stay_time =4;
  }
  message Impr {
    required uint64 gen_time = 1;
    required string req_id = 2;
    required string impr_type = 3;
    repeated Group groups = 4;
    optional uint64 channel_id = 5;
    optional uint64 pgc_id = 6;
    optional string search_query =7;
  }
  repeated Impr imprs = 1;
 
 
  //内部使用
  message Action {
    required uint32 command = 1;
    required uint64 gid = 2;
    optional uint32 stay_time =3;
  }
  repeated Action actions = 9;

  message FeatureAction {
    required uint64 gid = 1;
    optional uint32 type = 2;
    optional uint32 stay_time = 3; 
  }
  repeated FeatureAction feature_actions = 10; 
}
